---
interface Props {
  title: string;
  description: string;
  href: string;
  icon: 'webp' | 'heic' | 'winmail';
  comingSoon?: boolean;
}

const { title, description, href, icon, comingSoon = false } = Astro.props;
---

<a
  href={comingSoon ? undefined : href}
  class:list={[
    'group block rounded-2xl border p-6 transition-all',
    comingSoon
      ? 'cursor-default opacity-60 border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-800/50'
      : 'border-gray-200 bg-white hover:border-primary-300 hover:shadow-lg hover:shadow-primary-100/50 dark:border-gray-700 dark:bg-gray-800 dark:hover:border-primary-600 dark:hover:shadow-primary-900/30',
  ]}
>
  <div class="flex items-start gap-4">
    <div
      class:list={[
        'flex shrink-0 items-center justify-center w-12 h-12 rounded-xl transition-colors',
        comingSoon
          ? 'bg-gray-100 text-gray-400 dark:bg-gray-700 dark:text-gray-500'
          : 'bg-primary-50 text-primary-600 group-hover:bg-primary-100 dark:bg-primary-950 dark:text-primary-400 dark:group-hover:bg-primary-900',
      ]}
    >
      {icon === 'webp' && (
        <!-- Image icon -->
        <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <rect width="18" height="18" x="3" y="3" rx="2" ry="2"></rect>
          <circle cx="9" cy="9" r="2"></circle>
          <path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"></path>
        </svg>
      )}
      {icon === 'heic' && (
        <!-- Smartphone icon -->
        <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <rect width="14" height="20" x="5" y="2" rx="2" ry="2"></rect>
          <path d="M12 18h.01"></path>
        </svg>
      )}
      {icon === 'winmail' && (
        <!-- Mail icon -->
        <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <rect width="20" height="16" x="2" y="4" rx="2"></rect>
          <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
        </svg>
      )}
    </div>

    <div class="flex-1 min-w-0">
      <div class="flex items-center gap-2">
        <h3 class="font-semibold text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors">
          {title}
        </h3>
        {comingSoon && (
          <span class="px-2 py-0.5 text-xs font-medium rounded-full bg-gray-200 text-gray-600 dark:bg-gray-600 dark:text-gray-300">
            Coming Soon
          </span>
        )}
      </div>
      <p class="mt-1 text-sm text-gray-500 dark:text-gray-400 line-clamp-2">
        {description}
      </p>
    </div>

    {!comingSoon && (
      <svg
        class="w-5 h-5 shrink-0 text-gray-400 group-hover:text-primary-500 group-hover:translate-x-0.5 transition-all dark:text-gray-500"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        viewBox="0 0 24 24"
      >
        <path d="m9 18 6-6-6-6"></path>
      </svg>
    )}
  </div>
</a>
