---
import BaseLayout from '../layouts/BaseLayout.astro';
import ToolCard from '../components/ToolCard.astro';
import PrivacyBadge from '../components/PrivacyBadge.astro';
import AdBanner from '../components/AdBanner.astro';
import { t } from '../i18n/utils';

const locale = 'en';

const websiteSchema = {
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "OpenedFile",
  "url": "https://openedfile.com",
  "description": t(locale, 'site.description'),
  "inLanguage": ["en", "ja"],
};
---

<BaseLayout>
  <script slot="structured-data" type="application/ld+json" set:html={JSON.stringify(websiteSchema)} />
  <!-- Hero Section -->
  <section class="relative overflow-hidden bg-gradient-to-b from-primary-50 to-white dark:from-gray-900 dark:to-gray-950">
    <div class="mx-auto max-w-6xl px-4 py-16 sm:px-6 sm:py-24 lg:px-8">
      <div class="text-center">
        <h1 class="text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl lg:text-6xl dark:text-white">
          {t(locale, 'home.hero_title')}
          <span class="text-primary-600 dark:text-primary-400">{t(locale, 'home.hero_title_accent')}</span>
        </h1>
        <p class="mx-auto mt-6 max-w-2xl text-lg text-gray-600 dark:text-gray-300">
          {t(locale, 'home.hero_description')}
        </p>
        <div class="mt-8 flex justify-center">
          <PrivacyBadge />
        </div>
      </div>
    </div>
    <!-- Decorative gradient blur -->
    <div class="absolute -top-24 right-0 -z-10 h-64 w-64 rounded-full bg-primary-200/30 blur-3xl dark:bg-primary-800/20"></div>
    <div class="absolute -bottom-16 left-0 -z-10 h-48 w-48 rounded-full bg-primary-100/40 blur-3xl dark:bg-primary-900/20"></div>
  </section>

  <!-- Ad Banner (header) -->
  <div class="mx-auto max-w-6xl px-4 py-4 sm:px-6 lg:px-8">
    <AdBanner slot="header" />
  </div>

  <!-- Tools Section -->
  <section id="tools" class="mx-auto max-w-6xl px-4 py-12 sm:px-6 lg:px-8">
    <div class="text-center mb-10">
      <h2 class="text-2xl font-bold text-gray-900 dark:text-white sm:text-3xl">
        {t(locale, 'home.tools_section_title')}
      </h2>
      <p class="mt-3 text-gray-500 dark:text-gray-400">
        {t(locale, 'home.tools_section_description')}
      </p>
    </div>

    <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3">
      <ToolCard
        title={t(locale, 'tools.webp.title')}
        description={t(locale, 'tools.webp.description')}
        href="/tools/webp"
        icon="webp"
      />
      <ToolCard
        title={t(locale, 'tools.heic.title')}
        description={t(locale, 'tools.heic.description')}
        href="/tools/heic"
        icon="heic"
      />
      <ToolCard
        title={t(locale, 'tools.winmail.title')}
        description={t(locale, 'tools.winmail.description')}
        href="/tools/winmail"
        icon="winmail"
      />
      <ToolCard
        title={t(locale, 'tools.eml.title')}
        description={t(locale, 'tools.eml.description')}
        href="/tools/eml"
        icon="eml"
      />
      <ToolCard
        title={t(locale, 'tools.vcard.title')}
        description={t(locale, 'tools.vcard.description')}
        href="/tools/vcard"
        icon="vcard"
      />
    </div>
  </section>

  <!-- Latest Blog Posts -->
  <section class="mx-auto max-w-6xl px-4 py-12 sm:px-6 lg:px-8">
    <div class="text-center mb-10">
      <h2 class="text-2xl font-bold text-gray-900 dark:text-white sm:text-3xl">
        {t(locale, 'home.latest_blog_title')}
      </h2>
      <p class="mt-3 text-gray-500 dark:text-gray-400">
        {t(locale, 'home.latest_blog_description')}
      </p>
    </div>

    <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
      <a href="/blog/what-is-winmail-dat" class="group rounded-xl border border-gray-200 bg-white p-6 hover:border-primary-300 hover:shadow-md dark:border-gray-700 dark:bg-gray-800/60 dark:hover:border-primary-600 transition-all">
        <span class="inline-block rounded-full px-2.5 py-0.5 text-xs font-medium bg-purple-100 text-purple-700 dark:bg-purple-900/40 dark:text-purple-300 mb-3">Winmail.dat</span>
        <h3 class="text-base font-semibold text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors leading-snug">What Is a Winmail.dat File? The Complete Guide</h3>
        <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 line-clamp-2">Learn what winmail.dat files are, why you receive them, and how to open them easily.</p>
      </a>
      <a href="/blog/heic-vs-jpg" class="group rounded-xl border border-gray-200 bg-white p-6 hover:border-primary-300 hover:shadow-md dark:border-gray-700 dark:bg-gray-800/60 dark:hover:border-primary-600 transition-all">
        <span class="inline-block rounded-full px-2.5 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-300 mb-3">HEIC</span>
        <h3 class="text-base font-semibold text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors leading-snug">HEIC vs JPG: The Complete Comparison Guide</h3>
        <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 line-clamp-2">Compare HEIC and JPG image formats — quality, file size, compatibility, and when to use each.</p>
      </a>
      <a href="/blog/webp-explained" class="group rounded-xl border border-gray-200 bg-white p-6 hover:border-primary-300 hover:shadow-md dark:border-gray-700 dark:bg-gray-800/60 dark:hover:border-primary-600 transition-all">
        <span class="inline-block rounded-full px-2.5 py-0.5 text-xs font-medium bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-300 mb-3">WebP</span>
        <h3 class="text-base font-semibold text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors leading-snug">WebP Format Explained: Everything You Need to Know</h3>
        <p class="mt-2 text-sm text-gray-500 dark:text-gray-400 line-clamp-2">A comprehensive guide to Google's WebP image format — features, benefits, and conversion.</p>
      </a>
    </div>

    <div class="mt-8 text-center">
      <a href="/blog" class="inline-flex items-center gap-2 text-sm font-medium text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300">
        {t(locale, 'home.view_all_posts')}
        <svg class="h-4 w-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path d="m9 18 6-6-6-6"></path>
        </svg>
      </a>
    </div>
  </section>

  <!-- Ad Banner (footer) -->
  <div class="mx-auto max-w-6xl px-4 py-4 sm:px-6 lg:px-8">
    <AdBanner slot="footer" />
  </div>
</BaseLayout>
